{% extends "layout.html" %}

{% block content %}
  {% if create_mode %}
    <h2>New client</h2>
    <form action="{% url 'new_client' %}" method="post">
  {% else %}
    {% if add_contact_mode %}
      <h2>Add contact</h2>
      <form action="{% url 'add_contact' pk=pk %}" method="post">
    {% else %}
      <h2>Edit client</h2>
      <form action="{% url 'edit_client' pk=pk %}" method="post">
    {% endif %}
  {% endif %}
    {% csrf_token %}
    {{ form.non_field_errors }}
    {{ form.as_p }}
    {{ contact_formset.as_p }}

    <button type="submit">Save</button>
    <button type="submit" name="delete" value="1" onclick="return confirmDelete()">Delete</button>

    <script>
      function confirmDelete() {
        return confirm("Are you sure you want to delete this client?");
      }
    </script>
  </form>

{% endblock %}
